/*! cesium-minimap 0.0.2 2015-07-29 */
function CesiumMiniMap(a,b){"use strict";function c(){var b=document.createElement("div");return b.className="cesium-minimap",a.bottomContainer.appendChild(b),b}function d(a){j.imageryLayers.addImageryProvider(a.imageryProvider)}function e(b){n.creditContainer=document.createElement("div");var c=new Cesium.Viewer(b,n);c.scene.imageryLayers.removeAll();var e=c.scene;e.screenSpaceCameraController.enableRotate=!1,e.screenSpaceCameraController.enableTranslate=!1,e.screenSpaceCameraController.enableZoom=!1,e.screenSpaceCameraController.enableTilt=!1,e.screenSpaceCameraController.enableLook=!1,a.scene.imageryLayers.layerAdded.addEventListener(d),j=c}function f(){var b=j.scene.camera,c=a.scene.camera;c.moveEnd.addEventListener(function(){var a=Cesium.Ellipsoid.WGS84.cartesianToCartographic(c.position.clone());a.height=Math.max(2*a.height,1e5),b.setView({positionCartographic:a,heading:c.heading})})}function g(){m=!m,m?(k.style.width="150px",k.style.height="150px",l.className=l.className.replace(" minimized","")):(k.style.width="19px",k.style.height="19px",l.className+=" minimized")}function h(){var a=document.createElement("a");return a.className="minimap-toggle-display",a.onclick=function(a){return a.preventDefault(),g(),!1},a}function i(){var b=document.createElement("div");b.className="minimap-container",k=c(),k.appendChild(b),l=h(),k.appendChild(l),e(b),f(),a.imageryLayers.length&&d(a.imageryLayers.get(0))}b=b||{};var j,k,l,m=b.expanded||!0,n={animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,orderIndependentTranslucency:!1,sceneMode:Cesium.SceneMode.SCENE2D,mapProjection:new Cesium.WebMercatorProjection};i()}